name: Ejecutar Colab/Notebook

on:
  schedule:
    - cron: '0 * * * *'  # cada hora en punto (00:00, 01:00, 02:00… UTC)
  workflow_dispatch:     # también permite correr manualmente

jobs:
  run_notebook:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      # Instalar dependencias
      - name: Instalar Python y paquetes
        run: |
          python -m pip install --upgrade pip
          pip install nbconvert papermill

      # Ejecutar el notebook
      - name: Ejecutar notebook
        run: |
          papermill tu_notebook.ipynb tu_notebook_out.ipynb

      # (Opcional) Commit y push si el notebook genera resultados
      - name: Commit y push resultados
        run: |
          git add tu_notebook_out.ipynb
          if ! git diff --cached --quiet; then
            git commit -m "Actualizar notebook ejecutado"
            git push origin main
          else
            echo "No hay cambios"
